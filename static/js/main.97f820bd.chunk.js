(this.webpackJsonp21_lekcija_animals=this.webpackJsonp21_lekcija_animals||[]).push([[0],{18:function(e,t,a){},19:function(e,t,a){},27:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},40:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n,c=a(1),s=a.n(c),r=a(14),i=a.n(r),l=(a(27),a(13)),o=(a(34),a(11)),u=a(3),j=a(8),d=a(5),m=(a(35),a(7)),b=a(4),O=a(21),f=(a(18),a(19),a(15)),h=(a(40),a(2)),g=function(e){var t=e.title,a=e.type,n=e.additionalClasses,c=e.clickHandler;return Object(h.jsx)("button",{type:a||"button",className:"button ".concat(n),onClick:c,children:t})},x=function(){return Object(l.b)()},_=l.c,p=a(10),v=Object(p.b)({name:"animals",initialState:function(){var e=localStorage.getItem("animal-filter");return e?JSON.parse(e):[]}(),reducers:{addItem:function(e,t){return[].concat(Object(j.a)(e),[t.payload])},addLanguageProperty:function(e,t){return e.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{name:Object(b.a)(Object(b.a)({},e.name),{},Object(m.a)({},t.payload,""))})}))},addTranslations:function(e,t){return e.map((function(e,a){return Object(b.a)(Object(b.a)({},e),{},{name:t.payload[a]})}))}}}),N=v.actions,S=N.addItem,w=N.addLanguageProperty,y=N.addTranslations,C=v.reducer,E=v.name,k={showNameError:!1,nameErrorMessage:"",showImageError:!1,imageErrorMessage:""},A=function(e){var t=e.closeModal,a=e.uniqueAnimalSpecies,n=Object(c.useState)(""),s=Object(d.a)(n,2),r=s[0],i=s[1],l=Object(c.useState)(""),o=Object(d.a)(l,2),u=o[0],j=o[1],p=Object(c.useState)(""),v=Object(d.a)(p,2),N=v[0],w=v[1],y=Object(c.useState)(k),C=Object(d.a)(y,2),E=C[0],A=C[1],L=Object(c.useRef)(null),I=Object(c.useRef)(null),M=Object(c.useRef)(null),F=_((function(e){return e.animals})),H=_((function(e){return e.languages.languages})),T=x();Object(c.useEffect)((function(){var e;null===(e=L.current)||void 0===e||e.focus()}),[]);var J=H.reduce((function(e,t){return Object(b.a)(Object(b.a)({},e),{},Object(m.a)({},t,""))}),{}),P=Object(c.useState)((function(){return a.length>0})),R=Object(d.a)(P,2),B=R[0],D=R[1];return Object(h.jsx)("div",{className:"modal",children:Object(h.jsx)("div",{className:"modal__background",onClick:function(e){return function(e){I.current.contains(e.target)||t()}(e)},children:Object(h.jsx)("div",{ref:I,className:"modal__window",children:Object(h.jsx)("div",{className:"modal__contents",children:Object(h.jsxs)("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault();var a=N?N.toLowerCase():M.current.value;r?F.map((function(e){return e.name.en})).includes(r.toLowerCase())?A((function(e){return Object(b.a)(Object(b.a)({},e),{},{showNameError:!0,nameErrorMessage:"Animal with this name has already been added!"})})):u?CSS.supports("background-image","url(".concat(u,")"))?(T(S({id:Object(O.uuid)(),name:Object(b.a)(Object(b.a)({},J),{},{en:r.toLowerCase()}),imgSrc:u,species:a})),t()):A((function(e){return Object(b.a)(Object(b.a)({},e),{},{showImageError:!0,imageErrorMessage:"This is not a valid image URL!"})})):A((function(e){return Object(b.a)(Object(b.a)({},e),{},{showImageError:!0,imageErrorMessage:"Please fill in this field!"})})):A((function(e){return Object(b.a)(Object(b.a)({},e),{},{showNameError:!0,nameErrorMessage:"Please fill in this field!"})}))}(e)},children:[Object(h.jsxs)("div",{className:"form__header",children:[Object(h.jsx)("h2",{children:"Add animal"}),Object(h.jsx)(g,{title:Object(h.jsx)(f.a,{}),clickHandler:t,additionalClasses:"button--icon"})]}),Object(h.jsxs)("div",{className:"form__content",children:[Object(h.jsxs)("div",{children:[Object(h.jsxs)("label",{htmlFor:"animal-name",className:"form__form-field",style:{marginBottom:"3px"},children:[Object(h.jsx)("strong",{children:"Name:"}),Object(h.jsx)("input",{id:"animal-name",type:"text",className:"form__text-input",placeholder:"Animal name",ref:L,value:r,onChange:function(e){return i(e.target.value)},onFocus:function(){return A((function(e){return Object(b.a)(Object(b.a)({},e),{},{showNameError:!1})}))}})]}),Object(h.jsx)("div",{className:"form__error-message-wrapper",children:Object(h.jsx)("span",{className:"form__error-message-text",children:E.showNameError&&E.nameErrorMessage})})]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("label",{htmlFor:"animal-source",className:"form__form-field",children:[Object(h.jsx)("strong",{children:"Image source:"}),Object(h.jsx)("input",{id:"animal-source",type:"text",className:"form__text-input",placeholder:"Animal image",value:u,onChange:function(e){return j(e.target.value)},onFocus:function(){return A((function(e){return Object(b.a)(Object(b.a)({},e),{},{showImageError:!1})}))}})]}),Object(h.jsx)("div",{className:"form__error-message-wrapper",children:Object(h.jsx)("span",{className:"form__error-message-text",children:E.showImageError&&E.imageErrorMessage})})]}),B?Object(h.jsxs)("label",{htmlFor:"animal-species",className:"form__form-field",style:{gridTemplateColumns:"1fr auto"},children:[Object(h.jsx)("strong",{style:{gridColumnStart:1,gridColumnEnd:3},children:"Species:"}),Object(h.jsx)("select",{id:"animal-species",ref:M,className:"form__text-input form__select",placeholder:"Animal species",value:N,onChange:function(e){return w(e.target.value)},children:a.map((function(e){return Object(h.jsx)("option",{className:"form__select-option",children:e},e)}))}),Object(h.jsx)(g,{title:"Add new",clickHandler:function(){return D(!1)}})]}):Object(h.jsxs)("label",{htmlFor:"animal-species-input",className:"form__form-field",children:[Object(h.jsx)("strong",{children:"Species:"}),Object(h.jsx)("input",{id:"animal-species-input",type:"text",className:"form__text-input",placeholder:"Animal species",onChange:function(e){return w(e.target.value)}})]})]}),Object(h.jsxs)("div",{className:"form__footer",children:[Object(h.jsx)(g,{title:"Cancel",type:"button",additionalClasses:"button--secondary",clickHandler:function(){return t()}}),Object(h.jsx)(g,{title:"Save",type:"submit"})]})]})})})})})},L=(a(42),function(e){var t=e.name,a=e.imgUrl,n=e.species;return Object(h.jsxs)("div",{className:"animal-card",children:[Object(h.jsx)("img",{src:a,alt:t,className:"animal-card__image"}),Object(h.jsxs)("div",{className:"animal-card__info-section",children:[Object(h.jsx)("h3",{className:"animal-card__name",children:t}),Object(h.jsx)("span",{className:"animal-card__species",children:n})]})]})}),I=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)("all"),r=Object(d.a)(s,2),i=r[0],l=r[1],o=_((function(e){return e.animals})),u=_((function(e){return e.languages.locale}));Object(c.useEffect)((function(){localStorage.setItem("animal-filter",JSON.stringify(o))}),[o]);var m=o.map((function(e){return e.species})).filter((function(e,t,a){return t===a.indexOf(e)}));return Object(h.jsxs)("section",{className:"animals",children:[Object(h.jsx)("div",{className:"animals__filter-section",children:["all"].concat(Object(j.a)(m)).map((function(e){return Object(h.jsx)("div",{className:i===e?"animals__filter-buttons animals__filter-buttons--active":"animals__filter-buttons",onClick:function(){return l(e)},children:e},e)}))}),Object(h.jsx)("div",{className:"animals__animal-card-grid",children:o.length>0?("all"===i?o:o.filter((function(e){return e.species===i}))).map((function(e){var t=e.id,a=e.name,n=e.imgSrc,c=e.species;return Object(h.jsx)(L,{name:a[u],imgUrl:n,species:c},t)})):Object(h.jsx)("h2",{style:{textAlign:"center"},children:"No animals added yet!"})}),Object(h.jsx)("div",{className:"animals__add-animal-button-wrapper",children:Object(h.jsx)(g,{title:"Add animal",clickHandler:function(){return n(!0)}})}),a&&Object(h.jsx)(A,{uniqueAnimalSpecies:m,closeModal:function(){n(!1)}})]})},M=(a(43),a(22)),F=Object(p.b)({name:"languages",initialState:function(){var e=localStorage.getItem("animal-filter-languages");return e?JSON.parse(e):{locale:"en",languages:["en"]}}(),reducers:{addLanguage:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{languages:[].concat(Object(j.a)(e.languages),[t.payload])})},setLocale:function(e,t){return Object(b.a)(Object(b.a)({},e),{},{locale:t.payload})}}}),H=F.actions,T=H.addLanguage,J=H.setLocale,P=F.reducer,R=F.name,B=function(e){var t=e.closeModal,a=Object(c.useState)({showError:!1,message:""}),n=Object(d.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(""),l=Object(d.a)(i,2),o=l[0],u=l[1],j=Object(c.useRef)(null),m=Object(c.useRef)(null),O=_((function(e){return e.languages.languages})),p=x();Object(c.useEffect)((function(){var e;null===(e=m.current)||void 0===e||e.focus()}),[]);return Object(h.jsx)("div",{className:"modal",children:Object(h.jsx)("div",{className:"modal__background",onClick:function(e){return function(e){j.current.contains(e.target)||t()}(e)},children:Object(h.jsx)("div",{ref:j,className:"modal__window",children:Object(h.jsx)("div",{className:"modal__contents",children:Object(h.jsxs)("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault();var a=function(e){return e.trim().toLowerCase()}(o);O.includes(a)?r({showError:!0,message:"This language code has already been added!"}):o&&2===a.length?(p(T(a)),p(w(a)),t()):r({showError:!0,message:"Entered value is too short or too long!"})}(e)},children:[Object(h.jsxs)("div",{className:"form__header",children:[Object(h.jsx)("h2",{children:"Add new language"}),Object(h.jsx)(g,{title:Object(h.jsx)(f.a,{}),clickHandler:t,additionalClasses:"button--icon"})]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("label",{htmlFor:"language-code",className:"form__form-field",style:{marginBottom:"3px"},children:[Object(h.jsx)("strong",{children:"Language code (2 letters):"}),Object(h.jsx)("input",{id:"language-code",type:"text",className:"form__text-input",placeholder:'Language code, e.g. "EN"',ref:m,value:o,onChange:function(e){return u(e.target.value)},onFocus:function(){return r((function(e){return Object(b.a)(Object(b.a)({},e),{},{showError:!1})}))}})]}),Object(h.jsx)("div",{className:"form__error-message-wrapper",children:Object(h.jsx)("span",{className:"form__error-message-text",children:s.showError&&s.message})})]}),Object(h.jsxs)("div",{className:"form__footer",children:[Object(h.jsx)(g,{title:"Cancel",type:"button",additionalClasses:"button--secondary",clickHandler:function(){return t()}}),Object(h.jsx)(g,{title:"Save",type:"submit"})]})]})})})})})},D=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],s=_((function(e){return e.languages})),r=x();Object(c.useEffect)((function(){localStorage.setItem("animal-filter-languages",JSON.stringify(s))}),[s]);return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"page-container",children:[Object(h.jsx)("div",{className:"header-wrapper",children:Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)("nav",{children:Object(h.jsx)(o.b,{to:"/",children:Object(h.jsx)("img",{src:"./assets/images/logo.png",alt:"animal-logo",className:"header__logo"})})}),Object(h.jsx)("div",{className:"header__navigation-wrapper",children:Object(h.jsxs)("nav",{className:"header__navigation",children:[Object(h.jsx)(o.b,{to:"/",className:function(e){return e.isActive?"header__navigation-link header__navigation-link--active":"header__navigation-link"},children:"Home"}),Object(h.jsx)(o.b,{to:"/translations",className:function(e){return e.isActive?"header__navigation-link header__navigation-link--active":"header__navigation-link"},children:"Translations"})]})}),Object(h.jsxs)("div",{className:"header__language-selection",children:[Object(h.jsx)("select",{className:"header__select-language",onChange:function(e){return t=e.target.value,void r(J(t));var t},children:s.languages.map((function(e){return Object(h.jsx)("option",{className:"header__language-option",children:e},e)}))}),Object(h.jsx)(g,{title:Object(h.jsx)(M.a,{}),clickHandler:function(){return n(!0)},additionalClasses:"button--icon"})]})]})}),Object(h.jsxs)("div",{className:"content-wrapper",children:[Object(h.jsx)(u.a,{}),a&&Object(h.jsx)(B,{closeModal:function(){n(!1)}})]})]})})},U=(a(44),function(){var e=_((function(e){return e.animals})),t=x(),a=e.map((function(e){return e.name})),n=Object(c.useState)(a),s=Object(d.a)(n,2),r=s[0],i=s[1];return 0===e.length?Object(h.jsx)("h2",{style:{textAlign:"center"},children:"No animals added yet!"}):Object(h.jsxs)("section",{children:[Object(h.jsx)("h2",{className:"translations-page-heading",children:"Animal name translations"}),Object(h.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(y(r))}(e)},children:[Object(h.jsxs)("table",{className:"animal-translations",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Animal"}),Object(h.jsx)("th",{children:"Language"}),Object(h.jsx)("th",{children:"Animal Name"})]})}),Object(h.jsx)("tbody",{children:e.map((function(e,t){var a=e.name,n=Object.keys(a),c=Object.values(a),s=n.length;return c.map((function(e,a){return Object(h.jsxs)("tr",{children:[!a&&Object(h.jsx)("th",{rowSpan:s,className:"animal-translations__animal-name",children:e}),Object(h.jsx)("td",{className:"animal-translations__language-code",children:n[a]}),a?Object(h.jsx)("td",{className:"animal-translations__animal-name--input",children:Object(h.jsx)("input",{type:"text",className:"animal-translations__animal-name-input",value:r[t][n[a]],onChange:function(e){var c=Object(j.a)(r),s=Object(b.a)({},c[t]);s[n[a]]=e.target.value.toLowerCase(),c[t]=s,i(c)}})}):Object(h.jsx)("td",{className:"animal-translations__animal-name",children:e})]},e)}))}))})]}),Object(h.jsx)("div",{className:"animal-translations__submit-button-wrapper",children:Object(h.jsx)(g,{type:"submit",title:"Submit"})})]})]})}),q=function(){return Object(h.jsx)(o.a,{children:Object(h.jsx)(u.d,{children:Object(h.jsxs)(u.b,{path:"/",element:Object(h.jsx)(D,{}),children:[Object(h.jsx)(u.b,{index:!0,element:Object(h.jsx)(I,{})}),Object(h.jsx)(u.b,{path:"/translations",element:Object(h.jsx)(U,{})})]})})})},z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,47)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))},G=Object(p.a)({reducer:(n={},Object(m.a)(n,E,C),Object(m.a)(n,R,P),n)});i.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(l.a,{store:G,children:Object(h.jsx)(q,{})})}),document.getElementById("root")),z()}},[[46,1,2]]]);
//# sourceMappingURL=main.97f820bd.chunk.js.map